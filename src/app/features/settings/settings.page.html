<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Settings</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- Account Section -->
  <ion-list>
    <ion-list-header>
      <ion-label>Account</ion-label>
    </ion-list-header>

    <ion-item>
      <ion-icon name="person-outline" slot="start"></ion-icon>
      <ion-label>
        <h2>{{ userName || 'User' }}</h2>
        <p>{{ userEmail }}</p>
      </ion-label>
    </ion-item>

    <ion-item button (click)="editProfile()">
      <ion-icon name="create-outline" slot="start"></ion-icon>
      <ion-label>Edit Profile</ion-label>
      <ion-icon name="chevron-forward-outline" slot="end"></ion-icon>
    </ion-item>

    <ion-item button (click)="changePassword()">
      <ion-icon name="key-outline" slot="start"></ion-icon>
      <ion-label>Change Password</ion-label>
      <ion-icon name="chevron-forward-outline" slot="end"></ion-icon>
    </ion-item>
  </ion-list>

  <!-- Appearance Section -->
  <ion-list>
    <ion-list-header>
      <ion-label>Appearance</ion-label>
    </ion-list-header>

    <ion-item>
      <ion-icon name="moon-outline" slot="start"></ion-icon>
      <ion-label>Theme</ion-label>
      <ion-select 
        [value]="currentTheme" 
        (ionChange)="onThemeChange($event)"
        interface="popover">
        <ion-select-option value="light">Light</ion-select-option>
        <ion-select-option value="dark">Dark</ion-select-option>
        <ion-select-option value="auto">Auto</ion-select-option>
      </ion-select>
    </ion-item>
  </ion-list>

  <!-- Notifications Section -->
  <ion-list>
    <ion-list-header>
      <ion-label>Notifications</ion-label>
    </ion-list-header>

    <ion-item>
      <ion-icon name="notifications-outline" slot="start"></ion-icon>
      <ion-label>
        <h2>Watchlist Updates</h2>
        <p>Get notified when watchlist tickers have new analysis</p>
      </ion-label>
      <ion-toggle 
        [checked]="notificationSettings.watchlistUpdates"
        (ionChange)="onNotificationToggle('watchlistUpdates', $event)">
      </ion-toggle>
    </ion-item>

    <ion-item>
      <ion-icon name="trophy-outline" slot="start"></ion-icon>
      <ion-label>
        <h2>High Confidence Alerts</h2>
        <p>Posts with 8+ confidence level</p>
      </ion-label>
      <ion-toggle 
        [checked]="notificationSettings.highConfidence"
        (ionChange)="onNotificationToggle('highConfidence', $event)">
      </ion-toggle>
    </ion-item>

    <ion-item>
      <ion-icon name="pricetag-outline" slot="start"></ion-icon>
      <ion-label>
        <h2>Price Alerts</h2>
        <p>When target prices are reached</p>
      </ion-label>
      <ion-toggle 
        [checked]="notificationSettings.priceAlerts"
        (ionChange)="onNotificationToggle('priceAlerts', $event)">
      </ion-toggle>
    </ion-item>
  </ion-list>

  <!-- Preferences Section -->
  <ion-list>
    <ion-list-header>
      <ion-label>Preferences</ion-label>
    </ion-list-header>

    <ion-item>
      <ion-icon name="filter-outline" slot="start"></ion-icon>
      <ion-label>Default Asset Filter</ion-label>
      <ion-select 
        [value]="defaultAssetFilter" 
        (ionChange)="onDefaultAssetFilterChange($event)"
        interface="popover">
        <ion-select-option value="all">All</ion-select-option>
        <ion-select-option value="crypto">Crypto</ion-select-option>
        <ion-select-option value="stock">Stocks</ion-select-option>
      </ion-select>
    </ion-item>
  </ion-list>

  <!-- Data & Storage Section -->
  <ion-list>
    <ion-list-header>
      <ion-label>Data & Storage</ion-label>
    </ion-list-header>

    <ion-item button (click)="clearCache()">
      <ion-icon name="trash-outline" slot="start"></ion-icon>
      <ion-label>
        <h2>Clear Cache</h2>
        <p>Remove locally stored data</p>
      </ion-label>
    </ion-item>

    <ion-item button (click)="resetToDefaults()">
      <ion-icon name="refresh-outline" slot="start"></ion-icon>
      <ion-label>
        <h2>Reset Settings</h2>
        <p>Restore default settings</p>
      </ion-label>
    </ion-item>
  </ion-list>

  <!-- About Section -->
  <ion-list>
    <ion-list-header>
      <ion-label>About</ion-label>
    </ion-list-header>

    <ion-item>
      <ion-icon name="information-circle-outline" slot="start"></ion-icon>
      <ion-label>
        <h2>Alpha Insights</h2>
        <p>Version 1.0.0</p>
      </ion-label>
    </ion-item>

    <ion-item button detail="true">
      <ion-icon name="document-text-outline" slot="start"></ion-icon>
      <ion-label>Privacy Policy</ion-label>
    </ion-item>

    <ion-item button detail="true">
      <ion-icon name="shield-checkmark-outline" slot="start"></ion-icon>
      <ion-label>Terms of Service</ion-label>
    </ion-item>
  </ion-list>

  <!-- Logout Section -->
  <ion-list>
    <ion-item button (click)="logout()" color="danger">
      <ion-icon name="log-out-outline" slot="start"></ion-icon>
      <ion-label>Logout</ion-label>
    </ion-item>
  </ion-list>

  <!-- Spacing -->
  <div style="height: 40px;"></div>
</ion-content>
